{"ast":null,"code":"/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\nexport function createMutableSource(source, getVersion) {\n  const mutableSource = {\n    _getVersion: getVersion,\n    _source: source,\n    _workInProgressVersionPrimary: null,\n    _workInProgressVersionSecondary: null\n  };\n\n  if (__DEV__) {\n    mutableSource._currentPrimaryRenderer = null;\n    mutableSource._currentSecondaryRenderer = null; // Used to detect side effects that update a mutable source during render.\n    // See https://github.com/facebook/react/issues/19948\n\n    mutableSource._currentlyRenderingFiber = null;\n    mutableSource._initialVersionAsOfFirstRender = null;\n  }\n\n  return mutableSource;\n}","map":{"version":3,"sources":["/Users/zhangshuo/git/my-app/src/react/packages/react/src/ReactMutableSource.js"],"names":["createMutableSource","source","getVersion","mutableSource","_getVersion","_source","_workInProgressVersionPrimary","_workInProgressVersionSecondary","__DEV__","_currentPrimaryRenderer","_currentSecondaryRenderer","_currentlyRenderingFiber","_initialVersionAsOfFirstRender"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA,OAAO,SAASA,mBAAT,CACLC,MADK,EAELC,UAFK,EAGkB;AACvB,QAAMC,aAAoC,GAAG;AAC3CC,IAAAA,WAAW,EAAEF,UAD8B;AAE3CG,IAAAA,OAAO,EAAEJ,MAFkC;AAG3CK,IAAAA,6BAA6B,EAAE,IAHY;AAI3CC,IAAAA,+BAA+B,EAAE;AAJU,GAA7C;;AAOA,MAAIC,OAAJ,EAAa;AACXL,IAAAA,aAAa,CAACM,uBAAd,GAAwC,IAAxC;AACAN,IAAAA,aAAa,CAACO,yBAAd,GAA0C,IAA1C,CAFW,CAIX;AACA;;AACAP,IAAAA,aAAa,CAACQ,wBAAd,GAAyC,IAAzC;AACAR,IAAAA,aAAa,CAACS,8BAAd,GAA+C,IAA/C;AACD;;AAED,SAAOT,aAAP;AACD","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {MutableSource, MutableSourceGetVersionFn} from 'shared/ReactTypes';\n\nexport function createMutableSource<Source: $NonMaybeType<mixed>>(\n  source: Source,\n  getVersion: MutableSourceGetVersionFn,\n): MutableSource<Source> {\n  const mutableSource: MutableSource<Source> = {\n    _getVersion: getVersion,\n    _source: source,\n    _workInProgressVersionPrimary: null,\n    _workInProgressVersionSecondary: null,\n  };\n\n  if (__DEV__) {\n    mutableSource._currentPrimaryRenderer = null;\n    mutableSource._currentSecondaryRenderer = null;\n\n    // Used to detect side effects that update a mutable source during render.\n    // See https://github.com/facebook/react/issues/19948\n    mutableSource._currentlyRenderingFiber = null;\n    mutableSource._initialVersionAsOfFirstRender = null;\n  }\n\n  return mutableSource;\n}\n"]},"metadata":{},"sourceType":"module"}