{"ast":null,"code":"/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\nimport { canUseDOM } from 'shared/ExecutionEnvironment';\nexport let passiveBrowserEventsSupported = false; // Check if browser support events with passive listeners\n// https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\n\nif (canUseDOM) {\n  try {\n    const options = {}; // $FlowFixMe: Ignore Flow complaining about needing a value\n\n    Object.defineProperty(options, 'passive', {\n      get: function () {\n        passiveBrowserEventsSupported = true;\n      }\n    });\n    window.addEventListener('test', options, options);\n    window.removeEventListener('test', options, options);\n  } catch (e) {\n    passiveBrowserEventsSupported = false;\n  }\n}","map":{"version":3,"sources":["/Users/zhangshuo/git/my-app/src/react/packages/react-dom/src/events/checkPassiveEvents.js"],"names":["canUseDOM","passiveBrowserEventsSupported","options","Object","defineProperty","get","window","addEventListener","removeEventListener","e"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAAQA,SAAR,QAAwB,6BAAxB;AAEA,OAAO,IAAIC,6BAA6B,GAAG,KAApC,C,CAEP;AACA;;AACA,IAAID,SAAJ,EAAe;AACb,MAAI;AACF,UAAME,OAAO,GAAG,EAAhB,CADE,CAEF;;AACAC,IAAAA,MAAM,CAACC,cAAP,CAAsBF,OAAtB,EAA+B,SAA/B,EAA0C;AACxCG,MAAAA,GAAG,EAAE,YAAW;AACdJ,QAAAA,6BAA6B,GAAG,IAAhC;AACD;AAHuC,KAA1C;AAKAK,IAAAA,MAAM,CAACC,gBAAP,CAAwB,MAAxB,EAAgCL,OAAhC,EAAyCA,OAAzC;AACAI,IAAAA,MAAM,CAACE,mBAAP,CAA2B,MAA3B,EAAmCN,OAAnC,EAA4CA,OAA5C;AACD,GAVD,CAUE,OAAOO,CAAP,EAAU;AACVR,IAAAA,6BAA6B,GAAG,KAAhC;AACD;AACF","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {canUseDOM} from 'shared/ExecutionEnvironment';\n\nexport let passiveBrowserEventsSupported = false;\n\n// Check if browser support events with passive listeners\n// https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\nif (canUseDOM) {\n  try {\n    const options = {};\n    // $FlowFixMe: Ignore Flow complaining about needing a value\n    Object.defineProperty(options, 'passive', {\n      get: function() {\n        passiveBrowserEventsSupported = true;\n      },\n    });\n    window.addEventListener('test', options, options);\n    window.removeEventListener('test', options, options);\n  } catch (e) {\n    passiveBrowserEventsSupported = false;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}