{"ast":null,"code":"/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\nimport { checkFormFieldValueStringCoercion } from 'shared/CheckStringCoercion';\n// Flow does not allow string concatenation of most non-string types. To work\n// around this limitation, we use an opaque type that can only be obtained by\n// passing the value through getToStringValue first.\nexport function toString(value) {\n  // The coercion safety check is performed in getToStringValue().\n  // eslint-disable-next-line react-internal/safe-string-coercion\n  return '' + value;\n}\nexport function getToStringValue(value) {\n  switch (typeof value) {\n    case 'boolean':\n    case 'number':\n    case 'string':\n    case 'undefined':\n      return value;\n\n    case 'object':\n      if (__DEV__) {\n        checkFormFieldValueStringCoercion(value);\n      }\n\n      return value;\n\n    default:\n      // function, symbol are assigned as empty strings\n      return '';\n  }\n}","map":{"version":3,"sources":["/Users/zhangshuo/git/my-app/src/react/packages/react-dom/src/client/ToStringValue.js"],"names":["checkFormFieldValueStringCoercion","toString","value","getToStringValue","__DEV__"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAAQA,iCAAR,QAAgD,4BAAhD;AAUA;AACA;AACA;AACA,OAAO,SAASC,QAAT,CAAkBC,KAAlB,EAAgD;AACrD;AACA;AACA,SAAO,KAAMA,KAAb;AACD;AAED,OAAO,SAASC,gBAAT,CAA0BD,KAA1B,EAAuD;AAC5D,UAAQ,OAAOA,KAAf;AACE,SAAK,SAAL;AACA,SAAK,QAAL;AACA,SAAK,QAAL;AACA,SAAK,WAAL;AACE,aAAOA,KAAP;;AACF,SAAK,QAAL;AACE,UAAIE,OAAJ,EAAa;AACXJ,QAAAA,iCAAiC,CAACE,KAAD,CAAjC;AACD;;AACD,aAAOA,KAAP;;AACF;AACE;AACA,aAAO,EAAP;AAbJ;AAeD","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {checkFormFieldValueStringCoercion} from 'shared/CheckStringCoercion';\n\nexport opaque type ToStringValue =\n  | boolean\n  | number\n  | Object\n  | string\n  | null\n  | void;\n\n// Flow does not allow string concatenation of most non-string types. To work\n// around this limitation, we use an opaque type that can only be obtained by\n// passing the value through getToStringValue first.\nexport function toString(value: ToStringValue): string {\n  // The coercion safety check is performed in getToStringValue().\n  // eslint-disable-next-line react-internal/safe-string-coercion\n  return '' + (value: any);\n}\n\nexport function getToStringValue(value: mixed): ToStringValue {\n  switch (typeof value) {\n    case 'boolean':\n    case 'number':\n    case 'string':\n    case 'undefined':\n      return value;\n    case 'object':\n      if (__DEV__) {\n        checkFormFieldValueStringCoercion(value);\n      }\n      return value;\n    default:\n      // function, symbol are assigned as empty strings\n      return '';\n  }\n}\n"]},"metadata":{},"sourceType":"module"}