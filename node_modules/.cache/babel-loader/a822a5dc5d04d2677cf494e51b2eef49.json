{"ast":null,"code":"/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\nimport { registrationNameDependencies, possibleRegistrationNames } from '../events/EventRegistry';\nimport { canUseDOM } from 'shared/ExecutionEnvironment';\nimport hasOwnProperty from 'shared/hasOwnProperty';\nimport { checkHtmlStringCoercion } from 'shared/CheckStringCoercion';\nimport { getValueForAttribute, getValueForProperty, setValueForProperty } from './DOMPropertyOperations';\nimport { initWrapperState as ReactDOMInputInitWrapperState, getHostProps as ReactDOMInputGetHostProps, postMountWrapper as ReactDOMInputPostMountWrapper, updateChecked as ReactDOMInputUpdateChecked, updateWrapper as ReactDOMInputUpdateWrapper, restoreControlledState as ReactDOMInputRestoreControlledState } from './ReactDOMInput';\nimport { postMountWrapper as ReactDOMOptionPostMountWrapper, validateProps as ReactDOMOptionValidateProps } from './ReactDOMOption';\nimport { initWrapperState as ReactDOMSelectInitWrapperState, getHostProps as ReactDOMSelectGetHostProps, postMountWrapper as ReactDOMSelectPostMountWrapper, restoreControlledState as ReactDOMSelectRestoreControlledState, postUpdateWrapper as ReactDOMSelectPostUpdateWrapper } from './ReactDOMSelect';\nimport { initWrapperState as ReactDOMTextareaInitWrapperState, getHostProps as ReactDOMTextareaGetHostProps, postMountWrapper as ReactDOMTextareaPostMountWrapper, updateWrapper as ReactDOMTextareaUpdateWrapper, restoreControlledState as ReactDOMTextareaRestoreControlledState } from './ReactDOMTextarea';\nimport { track } from './inputValueTracking';\nimport setInnerHTML from './setInnerHTML';\nimport setTextContent from './setTextContent';\nimport { createDangerousStringForStyles, setValueForStyles, validateShorthandPropertyCollisionInDev } from './CSSPropertyOperations';\nimport { HTML_NAMESPACE, getIntrinsicNamespace } from '../shared/DOMNamespaces';\nimport { getPropertyInfo, shouldIgnoreAttribute, shouldRemoveAttribute } from '../shared/DOMProperty';\nimport assertValidProps from '../shared/assertValidProps';\nimport { DOCUMENT_NODE } from '../shared/HTMLNodeType';\nimport isCustomComponent from '../shared/isCustomComponent';\nimport possibleStandardNames from '../shared/possibleStandardNames';\nimport { validateProperties as validateARIAProperties } from '../shared/ReactDOMInvalidARIAHook';\nimport { validateProperties as validateInputProperties } from '../shared/ReactDOMNullInputValuePropHook';\nimport { validateProperties as validateUnknownProperties } from '../shared/ReactDOMUnknownPropertyHook';\nimport { enableTrustedTypesIntegration } from 'shared/ReactFeatureFlags';\nimport { mediaEventTypes, listenToNonDelegatedEvent } from '../events/DOMPluginEventSystem';\nlet didWarnInvalidHydration = false;\nlet didWarnScriptTags = false;\nconst DANGEROUSLY_SET_INNER_HTML = 'dangerouslySetInnerHTML';\nconst SUPPRESS_CONTENT_EDITABLE_WARNING = 'suppressContentEditableWarning';\nconst SUPPRESS_HYDRATION_WARNING = 'suppressHydrationWarning';\nconst AUTOFOCUS = 'autoFocus';\nconst CHILDREN = 'children';\nconst STYLE = 'style';\nconst HTML = '__html';\nlet warnedUnknownTags;\nlet suppressHydrationWarning;\nlet validatePropertiesInDevelopment;\nlet warnForTextDifference;\nlet warnForPropDifference;\nlet warnForExtraAttributes;\nlet warnForInvalidEventListener;\nlet canDiffStyleForHydrationWarning;\nlet normalizeMarkupForTextOrAttribute;\nlet normalizeHTML;\n\nif (__DEV__) {\n  warnedUnknownTags = {\n    // There are working polyfills for <dialog>. Let people use it.\n    dialog: true,\n    // Electron ships a custom <webview> tag to display external web content in\n    // an isolated frame and process.\n    // This tag is not present in non Electron environments such as JSDom which\n    // is often used for testing purposes.\n    // @see https://electronjs.org/docs/api/webview-tag\n    webview: true\n  };\n\n  validatePropertiesInDevelopment = function (type, props) {\n    validateARIAProperties(type, props);\n    validateInputProperties(type, props);\n    validateUnknownProperties(type, props, {\n      registrationNameDependencies,\n      possibleRegistrationNames\n    });\n  }; // IE 11 parses & normalizes the style attribute as opposed to other\n  // browsers. It adds spaces and sorts the properties in some\n  // non-alphabetical order. Handling that would require sorting CSS\n  // properties in the client & server versions or applying\n  // `expectedStyle` to a temporary DOM node to read its `style` attribute\n  // normalized. Since it only affects IE, we're skipping style warnings\n  // in that browser completely in favor of doing all that work.\n  // See https://github.com/facebook/react/issues/11807\n\n\n  canDiffStyleForHydrationWarning = canUseDOM && !document.documentMode; // HTML parsing normalizes CR and CRLF to LF.\n  // It also can turn \\u0000 into \\uFFFD inside attributes.\n  // https://www.w3.org/TR/html5/single-page.html#preprocessing-the-input-stream\n  // If we have a mismatch, it might be caused by that.\n  // We will still patch up in this case but not fire the warning.\n\n  const NORMALIZE_NEWLINES_REGEX = /\\r\\n?/g;\n  const NORMALIZE_NULL_AND_REPLACEMENT_REGEX = /\\u0000|\\uFFFD/g;\n\n  normalizeMarkupForTextOrAttribute = function (markup) {\n    if (__DEV__) {\n      checkHtmlStringCoercion(markup);\n    }\n\n    const markupString = typeof markup === 'string' ? markup : '' + markup;\n    return markupString.replace(NORMALIZE_NEWLINES_REGEX, '\\n').replace(NORMALIZE_NULL_AND_REPLACEMENT_REGEX, '');\n  };\n\n  warnForTextDifference = function (serverText, clientText) {\n    if (didWarnInvalidHydration) {\n      return;\n    }\n\n    const normalizedClientText = normalizeMarkupForTextOrAttribute(clientText);\n    const normalizedServerText = normalizeMarkupForTextOrAttribute(serverText);\n\n    if (normalizedServerText === normalizedClientText) {\n      return;\n    }\n\n    didWarnInvalidHydration = true;\n    console.error('Text content did not match. Server: \"%s\" Client: \"%s\"', normalizedServerText, normalizedClientText);\n  };\n\n  warnForPropDifference = function (propName, serverValue, clientValue) {\n    if (didWarnInvalidHydration) {\n      return;\n    }\n\n    const normalizedClientValue = normalizeMarkupForTextOrAttribute(clientValue);\n    const normalizedServerValue = normalizeMarkupForTextOrAttribute(serverValue);\n\n    if (normalizedServerValue === normalizedClientValue) {\n      return;\n    }\n\n    didWarnInvalidHydration = true;\n    console.error('Prop `%s` did not match. Server: %s Client: %s', propName, JSON.stringify(normalizedServerValue), JSON.stringify(normalizedClientValue));\n  };\n\n  warnForExtraAttributes = function (attributeNames) {\n    if (didWarnInvalidHydration) {\n      return;\n    }\n\n    didWarnInvalidHydration = true;\n    const names = [];\n    attributeNames.forEach(function (name) {\n      names.push(name);\n    });\n    console.error('Extra attributes from the server: %s', names);\n  };\n\n  warnForInvalidEventListener = function (registrationName, listener) {\n    if (listener === false) {\n      console.error('Expected `%s` listener to be a function, instead got `false`.\\n\\n' + 'If you used to conditionally omit it with %s={condition && value}, ' + 'pass %s={condition ? value : undefined} instead.', registrationName, registrationName, registrationName);\n    } else {\n      console.error('Expected `%s` listener to be a function, instead got a value of `%s` type.', registrationName, typeof listener);\n    }\n  }; // Parse the HTML and read it back to normalize the HTML string so that it\n  // can be used for comparison.\n\n\n  normalizeHTML = function (parent, html) {\n    // We could have created a separate document here to avoid\n    // re-initializing custom elements if they exist. But this breaks\n    // how <noscript> is being handled. So we use the same document.\n    // See the discussion in https://github.com/facebook/react/pull/11157.\n    const testElement = parent.namespaceURI === HTML_NAMESPACE ? parent.ownerDocument.createElement(parent.tagName) : parent.ownerDocument.createElementNS(parent.namespaceURI, parent.tagName);\n    testElement.innerHTML = html;\n    return testElement.innerHTML;\n  };\n}\n\nfunction getOwnerDocumentFromRootContainer(rootContainerElement) {\n  return rootContainerElement.nodeType === DOCUMENT_NODE ? rootContainerElement : rootContainerElement.ownerDocument;\n}\n\nfunction noop() {}\n\nexport function trapClickOnNonInteractiveElement(node) {\n  // Mobile Safari does not fire properly bubble click events on\n  // non-interactive elements, which means delegated click listeners do not\n  // fire. The workaround for this bug involves attaching an empty click\n  // listener on the target node.\n  // https://www.quirksmode.org/blog/archives/2010/09/click_event_del.html\n  // Just set it using the onclick property so that we don't have to manage any\n  // bookkeeping for it. Not sure if we need to clear it when the listener is\n  // removed.\n  // TODO: Only do this for the relevant Safaris maybe?\n  node.onclick = noop;\n}\n\nfunction setInitialDOMProperties(tag, domElement, rootContainerElement, nextProps, isCustomComponentTag) {\n  for (const propKey in nextProps) {\n    if (!nextProps.hasOwnProperty(propKey)) {\n      continue;\n    }\n\n    const nextProp = nextProps[propKey];\n\n    if (propKey === STYLE) {\n      if (__DEV__) {\n        if (nextProp) {\n          // Freeze the next style object so that we can assume it won't be\n          // mutated. We have already warned for this in the past.\n          Object.freeze(nextProp);\n        }\n      } // Relies on `updateStylesByID` not mutating `styleUpdates`.\n\n\n      setValueForStyles(domElement, nextProp);\n    } else if (propKey === DANGEROUSLY_SET_INNER_HTML) {\n      const nextHtml = nextProp ? nextProp[HTML] : undefined;\n\n      if (nextHtml != null) {\n        setInnerHTML(domElement, nextHtml);\n      }\n    } else if (propKey === CHILDREN) {\n      if (typeof nextProp === 'string') {\n        // Avoid setting initial textContent when the text is empty. In IE11 setting\n        // textContent on a <textarea> will cause the placeholder to not\n        // show within the <textarea> until it has been focused and blurred again.\n        // https://github.com/facebook/react/issues/6731#issuecomment-254874553\n        const canSetTextContent = tag !== 'textarea' || nextProp !== '';\n\n        if (canSetTextContent) {\n          setTextContent(domElement, nextProp);\n        }\n      } else if (typeof nextProp === 'number') {\n        setTextContent(domElement, '' + nextProp);\n      }\n    } else if (propKey === SUPPRESS_CONTENT_EDITABLE_WARNING || propKey === SUPPRESS_HYDRATION_WARNING) {// Noop\n    } else if (propKey === AUTOFOCUS) {// We polyfill it separately on the client during commit.\n      // We could have excluded it in the property list instead of\n      // adding a special case here, but then it wouldn't be emitted\n      // on server rendering (but we *do* want to emit it in SSR).\n    } else if (registrationNameDependencies.hasOwnProperty(propKey)) {\n      if (nextProp != null) {\n        if (__DEV__ && typeof nextProp !== 'function') {\n          warnForInvalidEventListener(propKey, nextProp);\n        }\n\n        if (propKey === 'onScroll') {\n          listenToNonDelegatedEvent('scroll', domElement);\n        }\n      }\n    } else if (nextProp != null) {\n      setValueForProperty(domElement, propKey, nextProp, isCustomComponentTag);\n    }\n  }\n}\n\nfunction updateDOMProperties(domElement, updatePayload, wasCustomComponentTag, isCustomComponentTag) {\n  // TODO: Handle wasCustomComponentTag\n  for (let i = 0; i < updatePayload.length; i += 2) {\n    const propKey = updatePayload[i];\n    const propValue = updatePayload[i + 1];\n\n    if (propKey === STYLE) {\n      setValueForStyles(domElement, propValue);\n    } else if (propKey === DANGEROUSLY_SET_INNER_HTML) {\n      setInnerHTML(domElement, propValue);\n    } else if (propKey === CHILDREN) {\n      setTextContent(domElement, propValue);\n    } else {\n      setValueForProperty(domElement, propKey, propValue, isCustomComponentTag);\n    }\n  }\n}\n\nexport function createElement(type, props, rootContainerElement, parentNamespace) {\n  let isCustomComponentTag; // We create tags in the namespace of their parent container, except HTML\n  // tags get no namespace.\n\n  const ownerDocument = getOwnerDocumentFromRootContainer(rootContainerElement);\n  let domElement;\n  let namespaceURI = parentNamespace;\n\n  if (namespaceURI === HTML_NAMESPACE) {\n    namespaceURI = getIntrinsicNamespace(type);\n  }\n\n  if (namespaceURI === HTML_NAMESPACE) {\n    if (__DEV__) {\n      isCustomComponentTag = isCustomComponent(type, props); // Should this check be gated by parent namespace? Not sure we want to\n      // allow <SVG> or <mATH>.\n\n      if (!isCustomComponentTag && type !== type.toLowerCase()) {\n        console.error('<%s /> is using incorrect casing. ' + 'Use PascalCase for React components, ' + 'or lowercase for HTML elements.', type);\n      }\n    }\n\n    if (type === 'script') {\n      // Create the script via .innerHTML so its \"parser-inserted\" flag is\n      // set to true and it does not execute\n      const div = ownerDocument.createElement('div');\n\n      if (__DEV__) {\n        if (enableTrustedTypesIntegration && !didWarnScriptTags) {\n          console.error('Encountered a script tag while rendering React component. ' + 'Scripts inside React components are never executed when rendering ' + 'on the client. Consider using template tag instead ' + '(https://developer.mozilla.org/en-US/docs/Web/HTML/Element/template).');\n          didWarnScriptTags = true;\n        }\n      }\n\n      div.innerHTML = '<script><' + '/script>'; // eslint-disable-line\n      // This is guaranteed to yield a script element.\n\n      const firstChild = div.firstChild;\n      domElement = div.removeChild(firstChild);\n    } else if (typeof props.is === 'string') {\n      // $FlowIssue `createElement` should be updated for Web Components\n      domElement = ownerDocument.createElement(type, {\n        is: props.is\n      });\n    } else {\n      // Separate else branch instead of using `props.is || undefined` above because of a Firefox bug.\n      // See discussion in https://github.com/facebook/react/pull/6896\n      // and discussion in https://bugzilla.mozilla.org/show_bug.cgi?id=1276240\n      domElement = ownerDocument.createElement(type); // Normally attributes are assigned in `setInitialDOMProperties`, however the `multiple` and `size`\n      // attributes on `select`s needs to be added before `option`s are inserted.\n      // This prevents:\n      // - a bug where the `select` does not scroll to the correct option because singular\n      //  `select` elements automatically pick the first item #13222\n      // - a bug where the `select` set the first item as selected despite the `size` attribute #14239\n      // See https://github.com/facebook/react/issues/13222\n      // and https://github.com/facebook/react/issues/14239\n\n      if (type === 'select') {\n        const node = domElement;\n\n        if (props.multiple) {\n          node.multiple = true;\n        } else if (props.size) {\n          // Setting a size greater than 1 causes a select to behave like `multiple=true`, where\n          // it is possible that no option is selected.\n          //\n          // This is only necessary when a select in \"single selection mode\".\n          node.size = props.size;\n        }\n      }\n    }\n  } else {\n    domElement = ownerDocument.createElementNS(namespaceURI, type);\n  }\n\n  if (__DEV__) {\n    if (namespaceURI === HTML_NAMESPACE) {\n      if (!isCustomComponentTag && Object.prototype.toString.call(domElement) === '[object HTMLUnknownElement]' && !hasOwnProperty.call(warnedUnknownTags, type)) {\n        warnedUnknownTags[type] = true;\n        console.error('The tag <%s> is unrecognized in this browser. ' + 'If you meant to render a React component, start its name with ' + 'an uppercase letter.', type);\n      }\n    }\n  }\n\n  return domElement;\n}\nexport function createTextNode(text, rootContainerElement) {\n  return getOwnerDocumentFromRootContainer(rootContainerElement).createTextNode(text);\n}\nexport function setInitialProperties(domElement, tag, rawProps, rootContainerElement) {\n  const isCustomComponentTag = isCustomComponent(tag, rawProps);\n\n  if (__DEV__) {\n    validatePropertiesInDevelopment(tag, rawProps);\n  } // TODO: Make sure that we check isMounted before firing any of these events.\n\n\n  let props;\n\n  switch (tag) {\n    case 'dialog':\n      listenToNonDelegatedEvent('cancel', domElement);\n      listenToNonDelegatedEvent('close', domElement);\n      props = rawProps;\n      break;\n\n    case 'iframe':\n    case 'object':\n    case 'embed':\n      // We listen to this event in case to ensure emulated bubble\n      // listeners still fire for the load event.\n      listenToNonDelegatedEvent('load', domElement);\n      props = rawProps;\n      break;\n\n    case 'video':\n    case 'audio':\n      // We listen to these events in case to ensure emulated bubble\n      // listeners still fire for all the media events.\n      for (let i = 0; i < mediaEventTypes.length; i++) {\n        listenToNonDelegatedEvent(mediaEventTypes[i], domElement);\n      }\n\n      props = rawProps;\n      break;\n\n    case 'source':\n      // We listen to this event in case to ensure emulated bubble\n      // listeners still fire for the error event.\n      listenToNonDelegatedEvent('error', domElement);\n      props = rawProps;\n      break;\n\n    case 'img':\n    case 'image':\n    case 'link':\n      // We listen to these events in case to ensure emulated bubble\n      // listeners still fire for error and load events.\n      listenToNonDelegatedEvent('error', domElement);\n      listenToNonDelegatedEvent('load', domElement);\n      props = rawProps;\n      break;\n\n    case 'details':\n      // We listen to this event in case to ensure emulated bubble\n      // listeners still fire for the toggle event.\n      listenToNonDelegatedEvent('toggle', domElement);\n      props = rawProps;\n      break;\n\n    case 'input':\n      ReactDOMInputInitWrapperState(domElement, rawProps);\n      props = ReactDOMInputGetHostProps(domElement, rawProps); // We listen to this event in case to ensure emulated bubble\n      // listeners still fire for the invalid event.\n\n      listenToNonDelegatedEvent('invalid', domElement);\n      break;\n\n    case 'option':\n      ReactDOMOptionValidateProps(domElement, rawProps);\n      props = rawProps;\n      break;\n\n    case 'select':\n      ReactDOMSelectInitWrapperState(domElement, rawProps);\n      props = ReactDOMSelectGetHostProps(domElement, rawProps); // We listen to this event in case to ensure emulated bubble\n      // listeners still fire for the invalid event.\n\n      listenToNonDelegatedEvent('invalid', domElement);\n      break;\n\n    case 'textarea':\n      ReactDOMTextareaInitWrapperState(domElement, rawProps);\n      props = ReactDOMTextareaGetHostProps(domElement, rawProps); // We listen to this event in case to ensure emulated bubble\n      // listeners still fire for the invalid event.\n\n      listenToNonDelegatedEvent('invalid', domElement);\n      break;\n\n    default:\n      props = rawProps;\n  }\n\n  assertValidProps(tag, props);\n  setInitialDOMProperties(tag, domElement, rootContainerElement, props, isCustomComponentTag);\n\n  switch (tag) {\n    case 'input':\n      // TODO: Make sure we check if this is still unmounted or do any clean\n      // up necessary since we never stop tracking anymore.\n      track(domElement);\n      ReactDOMInputPostMountWrapper(domElement, rawProps, false);\n      break;\n\n    case 'textarea':\n      // TODO: Make sure we check if this is still unmounted or do any clean\n      // up necessary since we never stop tracking anymore.\n      track(domElement);\n      ReactDOMTextareaPostMountWrapper(domElement, rawProps);\n      break;\n\n    case 'option':\n      ReactDOMOptionPostMountWrapper(domElement, rawProps);\n      break;\n\n    case 'select':\n      ReactDOMSelectPostMountWrapper(domElement, rawProps);\n      break;\n\n    default:\n      if (typeof props.onClick === 'function') {\n        // TODO: This cast may not be sound for SVG, MathML or custom elements.\n        trapClickOnNonInteractiveElement(domElement);\n      }\n\n      break;\n  }\n} // Calculate the diff between the two objects.\n\nexport function diffProperties(domElement, tag, lastRawProps, nextRawProps, rootContainerElement) {\n  if (__DEV__) {\n    validatePropertiesInDevelopment(tag, nextRawProps);\n  }\n\n  let updatePayload = null;\n  let lastProps;\n  let nextProps;\n\n  switch (tag) {\n    case 'input':\n      lastProps = ReactDOMInputGetHostProps(domElement, lastRawProps);\n      nextProps = ReactDOMInputGetHostProps(domElement, nextRawProps);\n      updatePayload = [];\n      break;\n\n    case 'select':\n      lastProps = ReactDOMSelectGetHostProps(domElement, lastRawProps);\n      nextProps = ReactDOMSelectGetHostProps(domElement, nextRawProps);\n      updatePayload = [];\n      break;\n\n    case 'textarea':\n      lastProps = ReactDOMTextareaGetHostProps(domElement, lastRawProps);\n      nextProps = ReactDOMTextareaGetHostProps(domElement, nextRawProps);\n      updatePayload = [];\n      break;\n\n    default:\n      lastProps = lastRawProps;\n      nextProps = nextRawProps;\n\n      if (typeof lastProps.onClick !== 'function' && typeof nextProps.onClick === 'function') {\n        // TODO: This cast may not be sound for SVG, MathML or custom elements.\n        trapClickOnNonInteractiveElement(domElement);\n      }\n\n      break;\n  }\n\n  assertValidProps(tag, nextProps);\n  let propKey;\n  let styleName;\n  let styleUpdates = null;\n\n  for (propKey in lastProps) {\n    if (nextProps.hasOwnProperty(propKey) || !lastProps.hasOwnProperty(propKey) || lastProps[propKey] == null) {\n      continue;\n    }\n\n    if (propKey === STYLE) {\n      const lastStyle = lastProps[propKey];\n\n      for (styleName in lastStyle) {\n        if (lastStyle.hasOwnProperty(styleName)) {\n          if (!styleUpdates) {\n            styleUpdates = {};\n          }\n\n          styleUpdates[styleName] = '';\n        }\n      }\n    } else if (propKey === DANGEROUSLY_SET_INNER_HTML || propKey === CHILDREN) {// Noop. This is handled by the clear text mechanism.\n    } else if (propKey === SUPPRESS_CONTENT_EDITABLE_WARNING || propKey === SUPPRESS_HYDRATION_WARNING) {// Noop\n    } else if (propKey === AUTOFOCUS) {// Noop. It doesn't work on updates anyway.\n    } else if (registrationNameDependencies.hasOwnProperty(propKey)) {\n      // This is a special case. If any listener updates we need to ensure\n      // that the \"current\" fiber pointer gets updated so we need a commit\n      // to update this element.\n      if (!updatePayload) {\n        updatePayload = [];\n      }\n    } else {\n      // For all other deleted properties we add it to the queue. We use\n      // the allowed property list in the commit phase instead.\n      (updatePayload = updatePayload || []).push(propKey, null);\n    }\n  }\n\n  for (propKey in nextProps) {\n    const nextProp = nextProps[propKey];\n    const lastProp = lastProps != null ? lastProps[propKey] : undefined;\n\n    if (!nextProps.hasOwnProperty(propKey) || nextProp === lastProp || nextProp == null && lastProp == null) {\n      continue;\n    }\n\n    if (propKey === STYLE) {\n      if (__DEV__) {\n        if (nextProp) {\n          // Freeze the next style object so that we can assume it won't be\n          // mutated. We have already warned for this in the past.\n          Object.freeze(nextProp);\n        }\n      }\n\n      if (lastProp) {\n        // Unset styles on `lastProp` but not on `nextProp`.\n        for (styleName in lastProp) {\n          if (lastProp.hasOwnProperty(styleName) && (!nextProp || !nextProp.hasOwnProperty(styleName))) {\n            if (!styleUpdates) {\n              styleUpdates = {};\n            }\n\n            styleUpdates[styleName] = '';\n          }\n        } // Update styles that changed since `lastProp`.\n\n\n        for (styleName in nextProp) {\n          if (nextProp.hasOwnProperty(styleName) && lastProp[styleName] !== nextProp[styleName]) {\n            if (!styleUpdates) {\n              styleUpdates = {};\n            }\n\n            styleUpdates[styleName] = nextProp[styleName];\n          }\n        }\n      } else {\n        // Relies on `updateStylesByID` not mutating `styleUpdates`.\n        if (!styleUpdates) {\n          if (!updatePayload) {\n            updatePayload = [];\n          }\n\n          updatePayload.push(propKey, styleUpdates);\n        }\n\n        styleUpdates = nextProp;\n      }\n    } else if (propKey === DANGEROUSLY_SET_INNER_HTML) {\n      const nextHtml = nextProp ? nextProp[HTML] : undefined;\n      const lastHtml = lastProp ? lastProp[HTML] : undefined;\n\n      if (nextHtml != null) {\n        if (lastHtml !== nextHtml) {\n          (updatePayload = updatePayload || []).push(propKey, nextHtml);\n        }\n      } else {// TODO: It might be too late to clear this if we have children\n        // inserted already.\n      }\n    } else if (propKey === CHILDREN) {\n      if (typeof nextProp === 'string' || typeof nextProp === 'number') {\n        (updatePayload = updatePayload || []).push(propKey, '' + nextProp);\n      }\n    } else if (propKey === SUPPRESS_CONTENT_EDITABLE_WARNING || propKey === SUPPRESS_HYDRATION_WARNING) {// Noop\n    } else if (registrationNameDependencies.hasOwnProperty(propKey)) {\n      if (nextProp != null) {\n        // We eagerly listen to this even though we haven't committed yet.\n        if (__DEV__ && typeof nextProp !== 'function') {\n          warnForInvalidEventListener(propKey, nextProp);\n        }\n\n        if (propKey === 'onScroll') {\n          listenToNonDelegatedEvent('scroll', domElement);\n        }\n      }\n\n      if (!updatePayload && lastProp !== nextProp) {\n        // This is a special case. If any listener updates we need to ensure\n        // that the \"current\" props pointer gets updated so we need a commit\n        // to update this element.\n        updatePayload = [];\n      }\n    } else {\n      // For any other property we always add it to the queue and then we\n      // filter it out using the allowed property list during the commit.\n      (updatePayload = updatePayload || []).push(propKey, nextProp);\n    }\n  }\n\n  if (styleUpdates) {\n    if (__DEV__) {\n      validateShorthandPropertyCollisionInDev(styleUpdates, nextProps[STYLE]);\n    }\n\n    (updatePayload = updatePayload || []).push(STYLE, styleUpdates);\n  }\n\n  return updatePayload;\n} // Apply the diff.\n\nexport function updateProperties(domElement, updatePayload, tag, lastRawProps, nextRawProps) {\n  // Update checked *before* name.\n  // In the middle of an update, it is possible to have multiple checked.\n  // When a checked radio tries to change name, browser makes another radio's checked false.\n  if (tag === 'input' && nextRawProps.type === 'radio' && nextRawProps.name != null) {\n    ReactDOMInputUpdateChecked(domElement, nextRawProps);\n  }\n\n  const wasCustomComponentTag = isCustomComponent(tag, lastRawProps);\n  const isCustomComponentTag = isCustomComponent(tag, nextRawProps); // Apply the diff.\n\n  updateDOMProperties(domElement, updatePayload, wasCustomComponentTag, isCustomComponentTag); // TODO: Ensure that an update gets scheduled if any of the special props\n  // changed.\n\n  switch (tag) {\n    case 'input':\n      // Update the wrapper around inputs *after* updating props. This has to\n      // happen after `updateDOMProperties`. Otherwise HTML5 input validations\n      // raise warnings and prevent the new value from being assigned.\n      ReactDOMInputUpdateWrapper(domElement, nextRawProps);\n      break;\n\n    case 'textarea':\n      ReactDOMTextareaUpdateWrapper(domElement, nextRawProps);\n      break;\n\n    case 'select':\n      // <select> value update needs to occur after <option> children\n      // reconciliation\n      ReactDOMSelectPostUpdateWrapper(domElement, nextRawProps);\n      break;\n  }\n}\n\nfunction getPossibleStandardName(propName) {\n  if (__DEV__) {\n    const lowerCasedName = propName.toLowerCase();\n\n    if (!possibleStandardNames.hasOwnProperty(lowerCasedName)) {\n      return null;\n    }\n\n    return possibleStandardNames[lowerCasedName] || null;\n  }\n\n  return null;\n}\n\nexport function diffHydratedProperties(domElement, tag, rawProps, parentNamespace, rootContainerElement) {\n  let isCustomComponentTag;\n  let extraAttributeNames;\n\n  if (__DEV__) {\n    suppressHydrationWarning = rawProps[SUPPRESS_HYDRATION_WARNING] === true;\n    isCustomComponentTag = isCustomComponent(tag, rawProps);\n    validatePropertiesInDevelopment(tag, rawProps);\n  } // TODO: Make sure that we check isMounted before firing any of these events.\n\n\n  switch (tag) {\n    case 'dialog':\n      listenToNonDelegatedEvent('cancel', domElement);\n      listenToNonDelegatedEvent('close', domElement);\n      break;\n\n    case 'iframe':\n    case 'object':\n    case 'embed':\n      // We listen to this event in case to ensure emulated bubble\n      // listeners still fire for the load event.\n      listenToNonDelegatedEvent('load', domElement);\n      break;\n\n    case 'video':\n    case 'audio':\n      // We listen to these events in case to ensure emulated bubble\n      // listeners still fire for all the media events.\n      for (let i = 0; i < mediaEventTypes.length; i++) {\n        listenToNonDelegatedEvent(mediaEventTypes[i], domElement);\n      }\n\n      break;\n\n    case 'source':\n      // We listen to this event in case to ensure emulated bubble\n      // listeners still fire for the error event.\n      listenToNonDelegatedEvent('error', domElement);\n      break;\n\n    case 'img':\n    case 'image':\n    case 'link':\n      // We listen to these events in case to ensure emulated bubble\n      // listeners still fire for error and load events.\n      listenToNonDelegatedEvent('error', domElement);\n      listenToNonDelegatedEvent('load', domElement);\n      break;\n\n    case 'details':\n      // We listen to this event in case to ensure emulated bubble\n      // listeners still fire for the toggle event.\n      listenToNonDelegatedEvent('toggle', domElement);\n      break;\n\n    case 'input':\n      ReactDOMInputInitWrapperState(domElement, rawProps); // We listen to this event in case to ensure emulated bubble\n      // listeners still fire for the invalid event.\n\n      listenToNonDelegatedEvent('invalid', domElement);\n      break;\n\n    case 'option':\n      ReactDOMOptionValidateProps(domElement, rawProps);\n      break;\n\n    case 'select':\n      ReactDOMSelectInitWrapperState(domElement, rawProps); // We listen to this event in case to ensure emulated bubble\n      // listeners still fire for the invalid event.\n\n      listenToNonDelegatedEvent('invalid', domElement);\n      break;\n\n    case 'textarea':\n      ReactDOMTextareaInitWrapperState(domElement, rawProps); // We listen to this event in case to ensure emulated bubble\n      // listeners still fire for the invalid event.\n\n      listenToNonDelegatedEvent('invalid', domElement);\n      break;\n  }\n\n  assertValidProps(tag, rawProps);\n\n  if (__DEV__) {\n    extraAttributeNames = new Set();\n    const attributes = domElement.attributes;\n\n    for (let i = 0; i < attributes.length; i++) {\n      const name = attributes[i].name.toLowerCase();\n\n      switch (name) {\n        // Controlled attributes are not validated\n        // TODO: Only ignore them on controlled tags.\n        case 'value':\n          break;\n\n        case 'checked':\n          break;\n\n        case 'selected':\n          break;\n\n        default:\n          // Intentionally use the original name.\n          // See discussion in https://github.com/facebook/react/pull/10676.\n          extraAttributeNames.add(attributes[i].name);\n      }\n    }\n  }\n\n  let updatePayload = null;\n\n  for (const propKey in rawProps) {\n    if (!rawProps.hasOwnProperty(propKey)) {\n      continue;\n    }\n\n    const nextProp = rawProps[propKey];\n\n    if (propKey === CHILDREN) {\n      // For text content children we compare against textContent. This\n      // might match additional HTML that is hidden when we read it using\n      // textContent. E.g. \"foo\" will match \"f<span>oo</span>\" but that still\n      // satisfies our requirement. Our requirement is not to produce perfect\n      // HTML and attributes. Ideally we should preserve structure but it's\n      // ok not to if the visible content is still enough to indicate what\n      // even listeners these nodes might be wired up to.\n      // TODO: Warn if there is more than a single textNode as a child.\n      // TODO: Should we use domElement.firstChild.nodeValue to compare?\n      if (typeof nextProp === 'string') {\n        if (domElement.textContent !== nextProp) {\n          if (__DEV__ && !suppressHydrationWarning) {\n            warnForTextDifference(domElement.textContent, nextProp);\n          }\n\n          updatePayload = [CHILDREN, nextProp];\n        }\n      } else if (typeof nextProp === 'number') {\n        if (domElement.textContent !== '' + nextProp) {\n          if (__DEV__ && !suppressHydrationWarning) {\n            warnForTextDifference(domElement.textContent, nextProp);\n          }\n\n          updatePayload = [CHILDREN, '' + nextProp];\n        }\n      }\n    } else if (registrationNameDependencies.hasOwnProperty(propKey)) {\n      if (nextProp != null) {\n        if (__DEV__ && typeof nextProp !== 'function') {\n          warnForInvalidEventListener(propKey, nextProp);\n        }\n\n        if (propKey === 'onScroll') {\n          listenToNonDelegatedEvent('scroll', domElement);\n        }\n      }\n    } else if (__DEV__ && // Convince Flow we've calculated it (it's DEV-only in this method.)\n    typeof isCustomComponentTag === 'boolean') {\n      // Validate that the properties correspond to their expected values.\n      let serverValue;\n      const propertyInfo = getPropertyInfo(propKey);\n\n      if (suppressHydrationWarning) {// Don't bother comparing. We're ignoring all these warnings.\n      } else if (propKey === SUPPRESS_CONTENT_EDITABLE_WARNING || propKey === SUPPRESS_HYDRATION_WARNING || // Controlled attributes are not validated\n      // TODO: Only ignore them on controlled tags.\n      propKey === 'value' || propKey === 'checked' || propKey === 'selected') {// Noop\n      } else if (propKey === DANGEROUSLY_SET_INNER_HTML) {\n        const serverHTML = domElement.innerHTML;\n        const nextHtml = nextProp ? nextProp[HTML] : undefined;\n\n        if (nextHtml != null) {\n          const expectedHTML = normalizeHTML(domElement, nextHtml);\n\n          if (expectedHTML !== serverHTML) {\n            warnForPropDifference(propKey, serverHTML, expectedHTML);\n          }\n        }\n      } else if (propKey === STYLE) {\n        // $FlowFixMe - Should be inferred as not undefined.\n        extraAttributeNames.delete(propKey);\n\n        if (canDiffStyleForHydrationWarning) {\n          const expectedStyle = createDangerousStringForStyles(nextProp);\n          serverValue = domElement.getAttribute('style');\n\n          if (expectedStyle !== serverValue) {\n            warnForPropDifference(propKey, serverValue, expectedStyle);\n          }\n        }\n      } else if (isCustomComponentTag) {\n        // $FlowFixMe - Should be inferred as not undefined.\n        extraAttributeNames.delete(propKey.toLowerCase());\n        serverValue = getValueForAttribute(domElement, propKey, nextProp);\n\n        if (nextProp !== serverValue) {\n          warnForPropDifference(propKey, serverValue, nextProp);\n        }\n      } else if (!shouldIgnoreAttribute(propKey, propertyInfo, isCustomComponentTag) && !shouldRemoveAttribute(propKey, nextProp, propertyInfo, isCustomComponentTag)) {\n        let isMismatchDueToBadCasing = false;\n\n        if (propertyInfo !== null) {\n          // $FlowFixMe - Should be inferred as not undefined.\n          extraAttributeNames.delete(propertyInfo.attributeName);\n          serverValue = getValueForProperty(domElement, propKey, nextProp, propertyInfo);\n        } else {\n          let ownNamespace = parentNamespace;\n\n          if (ownNamespace === HTML_NAMESPACE) {\n            ownNamespace = getIntrinsicNamespace(tag);\n          }\n\n          if (ownNamespace === HTML_NAMESPACE) {\n            // $FlowFixMe - Should be inferred as not undefined.\n            extraAttributeNames.delete(propKey.toLowerCase());\n          } else {\n            const standardName = getPossibleStandardName(propKey);\n\n            if (standardName !== null && standardName !== propKey) {\n              // If an SVG prop is supplied with bad casing, it will\n              // be successfully parsed from HTML, but will produce a mismatch\n              // (and would be incorrectly rendered on the client).\n              // However, we already warn about bad casing elsewhere.\n              // So we'll skip the misleading extra mismatch warning in this case.\n              isMismatchDueToBadCasing = true; // $FlowFixMe - Should be inferred as not undefined.\n\n              extraAttributeNames.delete(standardName);\n            } // $FlowFixMe - Should be inferred as not undefined.\n\n\n            extraAttributeNames.delete(propKey);\n          }\n\n          serverValue = getValueForAttribute(domElement, propKey, nextProp);\n        }\n\n        if (nextProp !== serverValue && !isMismatchDueToBadCasing) {\n          warnForPropDifference(propKey, serverValue, nextProp);\n        }\n      }\n    }\n  }\n\n  if (__DEV__) {\n    // $FlowFixMe - Should be inferred as not undefined.\n    if (extraAttributeNames.size > 0 && !suppressHydrationWarning) {\n      // $FlowFixMe - Should be inferred as not undefined.\n      warnForExtraAttributes(extraAttributeNames);\n    }\n  }\n\n  switch (tag) {\n    case 'input':\n      // TODO: Make sure we check if this is still unmounted or do any clean\n      // up necessary since we never stop tracking anymore.\n      track(domElement);\n      ReactDOMInputPostMountWrapper(domElement, rawProps, true);\n      break;\n\n    case 'textarea':\n      // TODO: Make sure we check if this is still unmounted or do any clean\n      // up necessary since we never stop tracking anymore.\n      track(domElement);\n      ReactDOMTextareaPostMountWrapper(domElement, rawProps);\n      break;\n\n    case 'select':\n    case 'option':\n      // For input and textarea we current always set the value property at\n      // post mount to force it to diverge from attributes. However, for\n      // option and select we don't quite do the same thing and select\n      // is not resilient to the DOM state changing so we don't do that here.\n      // TODO: Consider not doing this for input and textarea.\n      break;\n\n    default:\n      if (typeof rawProps.onClick === 'function') {\n        // TODO: This cast may not be sound for SVG, MathML or custom elements.\n        trapClickOnNonInteractiveElement(domElement);\n      }\n\n      break;\n  }\n\n  return updatePayload;\n}\nexport function diffHydratedText(textNode, text) {\n  const isDifferent = textNode.nodeValue !== text;\n  return isDifferent;\n}\nexport function warnForUnmatchedText(textNode, text) {\n  if (__DEV__) {\n    warnForTextDifference(textNode.nodeValue, text);\n  }\n}\nexport function warnForDeletedHydratableElement(parentNode, child) {\n  if (__DEV__) {\n    if (didWarnInvalidHydration) {\n      return;\n    }\n\n    didWarnInvalidHydration = true;\n    console.error('Did not expect server HTML to contain a <%s> in <%s>.', child.nodeName.toLowerCase(), parentNode.nodeName.toLowerCase());\n  }\n}\nexport function warnForDeletedHydratableText(parentNode, child) {\n  if (__DEV__) {\n    if (didWarnInvalidHydration) {\n      return;\n    }\n\n    didWarnInvalidHydration = true;\n    console.error('Did not expect server HTML to contain the text node \"%s\" in <%s>.', child.nodeValue, parentNode.nodeName.toLowerCase());\n  }\n}\nexport function warnForInsertedHydratedElement(parentNode, tag, props) {\n  if (__DEV__) {\n    if (didWarnInvalidHydration) {\n      return;\n    }\n\n    didWarnInvalidHydration = true;\n    console.error('Expected server HTML to contain a matching <%s> in <%s>.', tag, parentNode.nodeName.toLowerCase());\n  }\n}\nexport function warnForInsertedHydratedText(parentNode, text) {\n  if (__DEV__) {\n    if (text === '') {\n      // We expect to insert empty text nodes since they're not represented in\n      // the HTML.\n      // TODO: Remove this special case if we can just avoid inserting empty\n      // text nodes.\n      return;\n    }\n\n    if (didWarnInvalidHydration) {\n      return;\n    }\n\n    didWarnInvalidHydration = true;\n    console.error('Expected server HTML to contain a matching text node for \"%s\" in <%s>.', text, parentNode.nodeName.toLowerCase());\n  }\n}\nexport function restoreControlledState(domElement, tag, props) {\n  switch (tag) {\n    case 'input':\n      ReactDOMInputRestoreControlledState(domElement, props);\n      return;\n\n    case 'textarea':\n      ReactDOMTextareaRestoreControlledState(domElement, props);\n      return;\n\n    case 'select':\n      ReactDOMSelectRestoreControlledState(domElement, props);\n      return;\n  }\n}","map":{"version":3,"sources":["/Users/zhangshuo/git/react-source-test/src/react/packages/react-dom/src/client/ReactDOMComponent.js"],"names":["registrationNameDependencies","possibleRegistrationNames","canUseDOM","hasOwnProperty","checkHtmlStringCoercion","getValueForAttribute","getValueForProperty","setValueForProperty","initWrapperState","ReactDOMInputInitWrapperState","getHostProps","ReactDOMInputGetHostProps","postMountWrapper","ReactDOMInputPostMountWrapper","updateChecked","ReactDOMInputUpdateChecked","updateWrapper","ReactDOMInputUpdateWrapper","restoreControlledState","ReactDOMInputRestoreControlledState","ReactDOMOptionPostMountWrapper","validateProps","ReactDOMOptionValidateProps","ReactDOMSelectInitWrapperState","ReactDOMSelectGetHostProps","ReactDOMSelectPostMountWrapper","ReactDOMSelectRestoreControlledState","postUpdateWrapper","ReactDOMSelectPostUpdateWrapper","ReactDOMTextareaInitWrapperState","ReactDOMTextareaGetHostProps","ReactDOMTextareaPostMountWrapper","ReactDOMTextareaUpdateWrapper","ReactDOMTextareaRestoreControlledState","track","setInnerHTML","setTextContent","createDangerousStringForStyles","setValueForStyles","validateShorthandPropertyCollisionInDev","HTML_NAMESPACE","getIntrinsicNamespace","getPropertyInfo","shouldIgnoreAttribute","shouldRemoveAttribute","assertValidProps","DOCUMENT_NODE","isCustomComponent","possibleStandardNames","validateProperties","validateARIAProperties","validateInputProperties","validateUnknownProperties","enableTrustedTypesIntegration","mediaEventTypes","listenToNonDelegatedEvent","didWarnInvalidHydration","didWarnScriptTags","DANGEROUSLY_SET_INNER_HTML","SUPPRESS_CONTENT_EDITABLE_WARNING","SUPPRESS_HYDRATION_WARNING","AUTOFOCUS","CHILDREN","STYLE","HTML","warnedUnknownTags","suppressHydrationWarning","validatePropertiesInDevelopment","warnForTextDifference","warnForPropDifference","warnForExtraAttributes","warnForInvalidEventListener","canDiffStyleForHydrationWarning","normalizeMarkupForTextOrAttribute","normalizeHTML","__DEV__","dialog","webview","type","props","document","documentMode","NORMALIZE_NEWLINES_REGEX","NORMALIZE_NULL_AND_REPLACEMENT_REGEX","markup","markupString","replace","serverText","clientText","normalizedClientText","normalizedServerText","console","error","propName","serverValue","clientValue","normalizedClientValue","normalizedServerValue","JSON","stringify","attributeNames","names","forEach","name","push","registrationName","listener","parent","html","testElement","namespaceURI","ownerDocument","createElement","tagName","createElementNS","innerHTML","getOwnerDocumentFromRootContainer","rootContainerElement","nodeType","noop","trapClickOnNonInteractiveElement","node","onclick","setInitialDOMProperties","tag","domElement","nextProps","isCustomComponentTag","propKey","nextProp","Object","freeze","nextHtml","undefined","canSetTextContent","updateDOMProperties","updatePayload","wasCustomComponentTag","i","length","propValue","parentNamespace","toLowerCase","div","firstChild","removeChild","is","multiple","size","prototype","toString","call","createTextNode","text","setInitialProperties","rawProps","onClick","diffProperties","lastRawProps","nextRawProps","lastProps","styleName","styleUpdates","lastStyle","lastProp","lastHtml","updateProperties","getPossibleStandardName","lowerCasedName","diffHydratedProperties","extraAttributeNames","Set","attributes","add","textContent","propertyInfo","serverHTML","expectedHTML","delete","expectedStyle","getAttribute","isMismatchDueToBadCasing","attributeName","ownNamespace","standardName","diffHydratedText","textNode","isDifferent","nodeValue","warnForUnmatchedText","warnForDeletedHydratableElement","parentNode","child","nodeName","warnForDeletedHydratableText","warnForInsertedHydratedElement","warnForInsertedHydratedText"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {\n  registrationNameDependencies,\n  possibleRegistrationNames,\n} from '../events/EventRegistry';\n\nimport {canUseDOM} from 'shared/ExecutionEnvironment';\nimport hasOwnProperty from 'shared/hasOwnProperty';\nimport {checkHtmlStringCoercion} from 'shared/CheckStringCoercion';\n\nimport {\n  getValueForAttribute,\n  getValueForProperty,\n  setValueForProperty,\n} from './DOMPropertyOperations';\nimport {\n  initWrapperState as ReactDOMInputInitWrapperState,\n  getHostProps as ReactDOMInputGetHostProps,\n  postMountWrapper as ReactDOMInputPostMountWrapper,\n  updateChecked as ReactDOMInputUpdateChecked,\n  updateWrapper as ReactDOMInputUpdateWrapper,\n  restoreControlledState as ReactDOMInputRestoreControlledState,\n} from './ReactDOMInput';\nimport {\n  postMountWrapper as ReactDOMOptionPostMountWrapper,\n  validateProps as ReactDOMOptionValidateProps,\n} from './ReactDOMOption';\nimport {\n  initWrapperState as ReactDOMSelectInitWrapperState,\n  getHostProps as ReactDOMSelectGetHostProps,\n  postMountWrapper as ReactDOMSelectPostMountWrapper,\n  restoreControlledState as ReactDOMSelectRestoreControlledState,\n  postUpdateWrapper as ReactDOMSelectPostUpdateWrapper,\n} from './ReactDOMSelect';\nimport {\n  initWrapperState as ReactDOMTextareaInitWrapperState,\n  getHostProps as ReactDOMTextareaGetHostProps,\n  postMountWrapper as ReactDOMTextareaPostMountWrapper,\n  updateWrapper as ReactDOMTextareaUpdateWrapper,\n  restoreControlledState as ReactDOMTextareaRestoreControlledState,\n} from './ReactDOMTextarea';\nimport {track} from './inputValueTracking';\nimport setInnerHTML from './setInnerHTML';\nimport setTextContent from './setTextContent';\nimport {\n  createDangerousStringForStyles,\n  setValueForStyles,\n  validateShorthandPropertyCollisionInDev,\n} from './CSSPropertyOperations';\nimport {HTML_NAMESPACE, getIntrinsicNamespace} from '../shared/DOMNamespaces';\nimport {\n  getPropertyInfo,\n  shouldIgnoreAttribute,\n  shouldRemoveAttribute,\n} from '../shared/DOMProperty';\nimport assertValidProps from '../shared/assertValidProps';\nimport {DOCUMENT_NODE} from '../shared/HTMLNodeType';\nimport isCustomComponent from '../shared/isCustomComponent';\nimport possibleStandardNames from '../shared/possibleStandardNames';\nimport {validateProperties as validateARIAProperties} from '../shared/ReactDOMInvalidARIAHook';\nimport {validateProperties as validateInputProperties} from '../shared/ReactDOMNullInputValuePropHook';\nimport {validateProperties as validateUnknownProperties} from '../shared/ReactDOMUnknownPropertyHook';\n\nimport {enableTrustedTypesIntegration} from 'shared/ReactFeatureFlags';\nimport {\n  mediaEventTypes,\n  listenToNonDelegatedEvent,\n} from '../events/DOMPluginEventSystem';\n\nlet didWarnInvalidHydration = false;\nlet didWarnScriptTags = false;\n\nconst DANGEROUSLY_SET_INNER_HTML = 'dangerouslySetInnerHTML';\nconst SUPPRESS_CONTENT_EDITABLE_WARNING = 'suppressContentEditableWarning';\nconst SUPPRESS_HYDRATION_WARNING = 'suppressHydrationWarning';\nconst AUTOFOCUS = 'autoFocus';\nconst CHILDREN = 'children';\nconst STYLE = 'style';\nconst HTML = '__html';\n\nlet warnedUnknownTags;\nlet suppressHydrationWarning;\n\nlet validatePropertiesInDevelopment;\nlet warnForTextDifference;\nlet warnForPropDifference;\nlet warnForExtraAttributes;\nlet warnForInvalidEventListener;\nlet canDiffStyleForHydrationWarning;\n\nlet normalizeMarkupForTextOrAttribute;\nlet normalizeHTML;\n\nif (__DEV__) {\n  warnedUnknownTags = {\n    // There are working polyfills for <dialog>. Let people use it.\n    dialog: true,\n    // Electron ships a custom <webview> tag to display external web content in\n    // an isolated frame and process.\n    // This tag is not present in non Electron environments such as JSDom which\n    // is often used for testing purposes.\n    // @see https://electronjs.org/docs/api/webview-tag\n    webview: true,\n  };\n\n  validatePropertiesInDevelopment = function(type, props) {\n    validateARIAProperties(type, props);\n    validateInputProperties(type, props);\n    validateUnknownProperties(type, props, {\n      registrationNameDependencies,\n      possibleRegistrationNames,\n    });\n  };\n\n  // IE 11 parses & normalizes the style attribute as opposed to other\n  // browsers. It adds spaces and sorts the properties in some\n  // non-alphabetical order. Handling that would require sorting CSS\n  // properties in the client & server versions or applying\n  // `expectedStyle` to a temporary DOM node to read its `style` attribute\n  // normalized. Since it only affects IE, we're skipping style warnings\n  // in that browser completely in favor of doing all that work.\n  // See https://github.com/facebook/react/issues/11807\n  canDiffStyleForHydrationWarning = canUseDOM && !document.documentMode;\n\n  // HTML parsing normalizes CR and CRLF to LF.\n  // It also can turn \\u0000 into \\uFFFD inside attributes.\n  // https://www.w3.org/TR/html5/single-page.html#preprocessing-the-input-stream\n  // If we have a mismatch, it might be caused by that.\n  // We will still patch up in this case but not fire the warning.\n  const NORMALIZE_NEWLINES_REGEX = /\\r\\n?/g;\n  const NORMALIZE_NULL_AND_REPLACEMENT_REGEX = /\\u0000|\\uFFFD/g;\n\n  normalizeMarkupForTextOrAttribute = function(markup: mixed): string {\n    if (__DEV__) {\n      checkHtmlStringCoercion(markup);\n    }\n    const markupString =\n      typeof markup === 'string' ? markup : '' + (markup: any);\n    return markupString\n      .replace(NORMALIZE_NEWLINES_REGEX, '\\n')\n      .replace(NORMALIZE_NULL_AND_REPLACEMENT_REGEX, '');\n  };\n\n  warnForTextDifference = function(\n    serverText: string,\n    clientText: string | number,\n  ) {\n    if (didWarnInvalidHydration) {\n      return;\n    }\n    const normalizedClientText = normalizeMarkupForTextOrAttribute(clientText);\n    const normalizedServerText = normalizeMarkupForTextOrAttribute(serverText);\n    if (normalizedServerText === normalizedClientText) {\n      return;\n    }\n    didWarnInvalidHydration = true;\n    console.error(\n      'Text content did not match. Server: \"%s\" Client: \"%s\"',\n      normalizedServerText,\n      normalizedClientText,\n    );\n  };\n\n  warnForPropDifference = function(\n    propName: string,\n    serverValue: mixed,\n    clientValue: mixed,\n  ) {\n    if (didWarnInvalidHydration) {\n      return;\n    }\n    const normalizedClientValue = normalizeMarkupForTextOrAttribute(\n      clientValue,\n    );\n    const normalizedServerValue = normalizeMarkupForTextOrAttribute(\n      serverValue,\n    );\n    if (normalizedServerValue === normalizedClientValue) {\n      return;\n    }\n    didWarnInvalidHydration = true;\n    console.error(\n      'Prop `%s` did not match. Server: %s Client: %s',\n      propName,\n      JSON.stringify(normalizedServerValue),\n      JSON.stringify(normalizedClientValue),\n    );\n  };\n\n  warnForExtraAttributes = function(attributeNames: Set<string>) {\n    if (didWarnInvalidHydration) {\n      return;\n    }\n    didWarnInvalidHydration = true;\n    const names = [];\n    attributeNames.forEach(function(name) {\n      names.push(name);\n    });\n    console.error('Extra attributes from the server: %s', names);\n  };\n\n  warnForInvalidEventListener = function(registrationName, listener) {\n    if (listener === false) {\n      console.error(\n        'Expected `%s` listener to be a function, instead got `false`.\\n\\n' +\n          'If you used to conditionally omit it with %s={condition && value}, ' +\n          'pass %s={condition ? value : undefined} instead.',\n        registrationName,\n        registrationName,\n        registrationName,\n      );\n    } else {\n      console.error(\n        'Expected `%s` listener to be a function, instead got a value of `%s` type.',\n        registrationName,\n        typeof listener,\n      );\n    }\n  };\n\n  // Parse the HTML and read it back to normalize the HTML string so that it\n  // can be used for comparison.\n  normalizeHTML = function(parent: Element, html: string) {\n    // We could have created a separate document here to avoid\n    // re-initializing custom elements if they exist. But this breaks\n    // how <noscript> is being handled. So we use the same document.\n    // See the discussion in https://github.com/facebook/react/pull/11157.\n    const testElement =\n      parent.namespaceURI === HTML_NAMESPACE\n        ? parent.ownerDocument.createElement(parent.tagName)\n        : parent.ownerDocument.createElementNS(\n            (parent.namespaceURI: any),\n            parent.tagName,\n          );\n    testElement.innerHTML = html;\n    return testElement.innerHTML;\n  };\n}\n\nfunction getOwnerDocumentFromRootContainer(\n  rootContainerElement: Element | Document,\n): Document {\n  return rootContainerElement.nodeType === DOCUMENT_NODE\n    ? (rootContainerElement: any)\n    : rootContainerElement.ownerDocument;\n}\n\nfunction noop() {}\n\nexport function trapClickOnNonInteractiveElement(node: HTMLElement) {\n  // Mobile Safari does not fire properly bubble click events on\n  // non-interactive elements, which means delegated click listeners do not\n  // fire. The workaround for this bug involves attaching an empty click\n  // listener on the target node.\n  // https://www.quirksmode.org/blog/archives/2010/09/click_event_del.html\n  // Just set it using the onclick property so that we don't have to manage any\n  // bookkeeping for it. Not sure if we need to clear it when the listener is\n  // removed.\n  // TODO: Only do this for the relevant Safaris maybe?\n  node.onclick = noop;\n}\n\nfunction setInitialDOMProperties(\n  tag: string,\n  domElement: Element,\n  rootContainerElement: Element | Document,\n  nextProps: Object,\n  isCustomComponentTag: boolean,\n): void {\n  for (const propKey in nextProps) {\n    if (!nextProps.hasOwnProperty(propKey)) {\n      continue;\n    }\n    const nextProp = nextProps[propKey];\n    if (propKey === STYLE) {\n      if (__DEV__) {\n        if (nextProp) {\n          // Freeze the next style object so that we can assume it won't be\n          // mutated. We have already warned for this in the past.\n          Object.freeze(nextProp);\n        }\n      }\n      // Relies on `updateStylesByID` not mutating `styleUpdates`.\n      setValueForStyles(domElement, nextProp);\n    } else if (propKey === DANGEROUSLY_SET_INNER_HTML) {\n      const nextHtml = nextProp ? nextProp[HTML] : undefined;\n      if (nextHtml != null) {\n        setInnerHTML(domElement, nextHtml);\n      }\n    } else if (propKey === CHILDREN) {\n      if (typeof nextProp === 'string') {\n        // Avoid setting initial textContent when the text is empty. In IE11 setting\n        // textContent on a <textarea> will cause the placeholder to not\n        // show within the <textarea> until it has been focused and blurred again.\n        // https://github.com/facebook/react/issues/6731#issuecomment-254874553\n        const canSetTextContent = tag !== 'textarea' || nextProp !== '';\n        if (canSetTextContent) {\n          setTextContent(domElement, nextProp);\n        }\n      } else if (typeof nextProp === 'number') {\n        setTextContent(domElement, '' + nextProp);\n      }\n    } else if (\n      propKey === SUPPRESS_CONTENT_EDITABLE_WARNING ||\n      propKey === SUPPRESS_HYDRATION_WARNING\n    ) {\n      // Noop\n    } else if (propKey === AUTOFOCUS) {\n      // We polyfill it separately on the client during commit.\n      // We could have excluded it in the property list instead of\n      // adding a special case here, but then it wouldn't be emitted\n      // on server rendering (but we *do* want to emit it in SSR).\n    } else if (registrationNameDependencies.hasOwnProperty(propKey)) {\n      if (nextProp != null) {\n        if (__DEV__ && typeof nextProp !== 'function') {\n          warnForInvalidEventListener(propKey, nextProp);\n        }\n        if (propKey === 'onScroll') {\n          listenToNonDelegatedEvent('scroll', domElement);\n        }\n      }\n    } else if (nextProp != null) {\n      setValueForProperty(domElement, propKey, nextProp, isCustomComponentTag);\n    }\n  }\n}\n\nfunction updateDOMProperties(\n  domElement: Element,\n  updatePayload: Array<any>,\n  wasCustomComponentTag: boolean,\n  isCustomComponentTag: boolean,\n): void {\n  // TODO: Handle wasCustomComponentTag\n  for (let i = 0; i < updatePayload.length; i += 2) {\n    const propKey = updatePayload[i];\n    const propValue = updatePayload[i + 1];\n    if (propKey === STYLE) {\n      setValueForStyles(domElement, propValue);\n    } else if (propKey === DANGEROUSLY_SET_INNER_HTML) {\n      setInnerHTML(domElement, propValue);\n    } else if (propKey === CHILDREN) {\n      setTextContent(domElement, propValue);\n    } else {\n      setValueForProperty(domElement, propKey, propValue, isCustomComponentTag);\n    }\n  }\n}\n\nexport function createElement(\n  type: string,\n  props: Object,\n  rootContainerElement: Element | Document,\n  parentNamespace: string,\n): Element {\n  let isCustomComponentTag;\n\n  // We create tags in the namespace of their parent container, except HTML\n  // tags get no namespace.\n  const ownerDocument: Document = getOwnerDocumentFromRootContainer(\n    rootContainerElement,\n  );\n  let domElement: Element;\n  let namespaceURI = parentNamespace;\n  if (namespaceURI === HTML_NAMESPACE) {\n    namespaceURI = getIntrinsicNamespace(type);\n  }\n  if (namespaceURI === HTML_NAMESPACE) {\n    if (__DEV__) {\n      isCustomComponentTag = isCustomComponent(type, props);\n      // Should this check be gated by parent namespace? Not sure we want to\n      // allow <SVG> or <mATH>.\n      if (!isCustomComponentTag && type !== type.toLowerCase()) {\n        console.error(\n          '<%s /> is using incorrect casing. ' +\n            'Use PascalCase for React components, ' +\n            'or lowercase for HTML elements.',\n          type,\n        );\n      }\n    }\n\n    if (type === 'script') {\n      // Create the script via .innerHTML so its \"parser-inserted\" flag is\n      // set to true and it does not execute\n      const div = ownerDocument.createElement('div');\n      if (__DEV__) {\n        if (enableTrustedTypesIntegration && !didWarnScriptTags) {\n          console.error(\n            'Encountered a script tag while rendering React component. ' +\n              'Scripts inside React components are never executed when rendering ' +\n              'on the client. Consider using template tag instead ' +\n              '(https://developer.mozilla.org/en-US/docs/Web/HTML/Element/template).',\n          );\n          didWarnScriptTags = true;\n        }\n      }\n      div.innerHTML = '<script><' + '/script>'; // eslint-disable-line\n      // This is guaranteed to yield a script element.\n      const firstChild = ((div.firstChild: any): HTMLScriptElement);\n      domElement = div.removeChild(firstChild);\n    } else if (typeof props.is === 'string') {\n      // $FlowIssue `createElement` should be updated for Web Components\n      domElement = ownerDocument.createElement(type, {is: props.is});\n    } else {\n      // Separate else branch instead of using `props.is || undefined` above because of a Firefox bug.\n      // See discussion in https://github.com/facebook/react/pull/6896\n      // and discussion in https://bugzilla.mozilla.org/show_bug.cgi?id=1276240\n      domElement = ownerDocument.createElement(type);\n      // Normally attributes are assigned in `setInitialDOMProperties`, however the `multiple` and `size`\n      // attributes on `select`s needs to be added before `option`s are inserted.\n      // This prevents:\n      // - a bug where the `select` does not scroll to the correct option because singular\n      //  `select` elements automatically pick the first item #13222\n      // - a bug where the `select` set the first item as selected despite the `size` attribute #14239\n      // See https://github.com/facebook/react/issues/13222\n      // and https://github.com/facebook/react/issues/14239\n      if (type === 'select') {\n        const node = ((domElement: any): HTMLSelectElement);\n        if (props.multiple) {\n          node.multiple = true;\n        } else if (props.size) {\n          // Setting a size greater than 1 causes a select to behave like `multiple=true`, where\n          // it is possible that no option is selected.\n          //\n          // This is only necessary when a select in \"single selection mode\".\n          node.size = props.size;\n        }\n      }\n    }\n  } else {\n    domElement = ownerDocument.createElementNS(namespaceURI, type);\n  }\n\n  if (__DEV__) {\n    if (namespaceURI === HTML_NAMESPACE) {\n      if (\n        !isCustomComponentTag &&\n        Object.prototype.toString.call(domElement) ===\n          '[object HTMLUnknownElement]' &&\n        !hasOwnProperty.call(warnedUnknownTags, type)\n      ) {\n        warnedUnknownTags[type] = true;\n        console.error(\n          'The tag <%s> is unrecognized in this browser. ' +\n            'If you meant to render a React component, start its name with ' +\n            'an uppercase letter.',\n          type,\n        );\n      }\n    }\n  }\n\n  return domElement;\n}\n\nexport function createTextNode(\n  text: string,\n  rootContainerElement: Element | Document,\n): Text {\n  return getOwnerDocumentFromRootContainer(rootContainerElement).createTextNode(\n    text,\n  );\n}\n\nexport function setInitialProperties(\n  domElement: Element,\n  tag: string,\n  rawProps: Object,\n  rootContainerElement: Element | Document,\n): void {\n  const isCustomComponentTag = isCustomComponent(tag, rawProps);\n  if (__DEV__) {\n    validatePropertiesInDevelopment(tag, rawProps);\n  }\n\n  // TODO: Make sure that we check isMounted before firing any of these events.\n  let props: Object;\n  switch (tag) {\n    case 'dialog':\n      listenToNonDelegatedEvent('cancel', domElement);\n      listenToNonDelegatedEvent('close', domElement);\n      props = rawProps;\n      break;\n    case 'iframe':\n    case 'object':\n    case 'embed':\n      // We listen to this event in case to ensure emulated bubble\n      // listeners still fire for the load event.\n      listenToNonDelegatedEvent('load', domElement);\n      props = rawProps;\n      break;\n    case 'video':\n    case 'audio':\n      // We listen to these events in case to ensure emulated bubble\n      // listeners still fire for all the media events.\n      for (let i = 0; i < mediaEventTypes.length; i++) {\n        listenToNonDelegatedEvent(mediaEventTypes[i], domElement);\n      }\n      props = rawProps;\n      break;\n    case 'source':\n      // We listen to this event in case to ensure emulated bubble\n      // listeners still fire for the error event.\n      listenToNonDelegatedEvent('error', domElement);\n      props = rawProps;\n      break;\n    case 'img':\n    case 'image':\n    case 'link':\n      // We listen to these events in case to ensure emulated bubble\n      // listeners still fire for error and load events.\n      listenToNonDelegatedEvent('error', domElement);\n      listenToNonDelegatedEvent('load', domElement);\n      props = rawProps;\n      break;\n    case 'details':\n      // We listen to this event in case to ensure emulated bubble\n      // listeners still fire for the toggle event.\n      listenToNonDelegatedEvent('toggle', domElement);\n      props = rawProps;\n      break;\n    case 'input':\n      ReactDOMInputInitWrapperState(domElement, rawProps);\n      props = ReactDOMInputGetHostProps(domElement, rawProps);\n      // We listen to this event in case to ensure emulated bubble\n      // listeners still fire for the invalid event.\n      listenToNonDelegatedEvent('invalid', domElement);\n      break;\n    case 'option':\n      ReactDOMOptionValidateProps(domElement, rawProps);\n      props = rawProps;\n      break;\n    case 'select':\n      ReactDOMSelectInitWrapperState(domElement, rawProps);\n      props = ReactDOMSelectGetHostProps(domElement, rawProps);\n      // We listen to this event in case to ensure emulated bubble\n      // listeners still fire for the invalid event.\n      listenToNonDelegatedEvent('invalid', domElement);\n      break;\n    case 'textarea':\n      ReactDOMTextareaInitWrapperState(domElement, rawProps);\n      props = ReactDOMTextareaGetHostProps(domElement, rawProps);\n      // We listen to this event in case to ensure emulated bubble\n      // listeners still fire for the invalid event.\n      listenToNonDelegatedEvent('invalid', domElement);\n      break;\n    default:\n      props = rawProps;\n  }\n\n  assertValidProps(tag, props);\n\n  setInitialDOMProperties(\n    tag,\n    domElement,\n    rootContainerElement,\n    props,\n    isCustomComponentTag,\n  );\n\n  switch (tag) {\n    case 'input':\n      // TODO: Make sure we check if this is still unmounted or do any clean\n      // up necessary since we never stop tracking anymore.\n      track((domElement: any));\n      ReactDOMInputPostMountWrapper(domElement, rawProps, false);\n      break;\n    case 'textarea':\n      // TODO: Make sure we check if this is still unmounted or do any clean\n      // up necessary since we never stop tracking anymore.\n      track((domElement: any));\n      ReactDOMTextareaPostMountWrapper(domElement, rawProps);\n      break;\n    case 'option':\n      ReactDOMOptionPostMountWrapper(domElement, rawProps);\n      break;\n    case 'select':\n      ReactDOMSelectPostMountWrapper(domElement, rawProps);\n      break;\n    default:\n      if (typeof props.onClick === 'function') {\n        // TODO: This cast may not be sound for SVG, MathML or custom elements.\n        trapClickOnNonInteractiveElement(((domElement: any): HTMLElement));\n      }\n      break;\n  }\n}\n\n// Calculate the diff between the two objects.\nexport function diffProperties(\n  domElement: Element,\n  tag: string,\n  lastRawProps: Object,\n  nextRawProps: Object,\n  rootContainerElement: Element | Document,\n): null | Array<mixed> {\n  if (__DEV__) {\n    validatePropertiesInDevelopment(tag, nextRawProps);\n  }\n\n  let updatePayload: null | Array<any> = null;\n\n  let lastProps: Object;\n  let nextProps: Object;\n  switch (tag) {\n    case 'input':\n      lastProps = ReactDOMInputGetHostProps(domElement, lastRawProps);\n      nextProps = ReactDOMInputGetHostProps(domElement, nextRawProps);\n      updatePayload = [];\n      break;\n    case 'select':\n      lastProps = ReactDOMSelectGetHostProps(domElement, lastRawProps);\n      nextProps = ReactDOMSelectGetHostProps(domElement, nextRawProps);\n      updatePayload = [];\n      break;\n    case 'textarea':\n      lastProps = ReactDOMTextareaGetHostProps(domElement, lastRawProps);\n      nextProps = ReactDOMTextareaGetHostProps(domElement, nextRawProps);\n      updatePayload = [];\n      break;\n    default:\n      lastProps = lastRawProps;\n      nextProps = nextRawProps;\n      if (\n        typeof lastProps.onClick !== 'function' &&\n        typeof nextProps.onClick === 'function'\n      ) {\n        // TODO: This cast may not be sound for SVG, MathML or custom elements.\n        trapClickOnNonInteractiveElement(((domElement: any): HTMLElement));\n      }\n      break;\n  }\n\n  assertValidProps(tag, nextProps);\n\n  let propKey;\n  let styleName;\n  let styleUpdates = null;\n  for (propKey in lastProps) {\n    if (\n      nextProps.hasOwnProperty(propKey) ||\n      !lastProps.hasOwnProperty(propKey) ||\n      lastProps[propKey] == null\n    ) {\n      continue;\n    }\n    if (propKey === STYLE) {\n      const lastStyle = lastProps[propKey];\n      for (styleName in lastStyle) {\n        if (lastStyle.hasOwnProperty(styleName)) {\n          if (!styleUpdates) {\n            styleUpdates = {};\n          }\n          styleUpdates[styleName] = '';\n        }\n      }\n    } else if (propKey === DANGEROUSLY_SET_INNER_HTML || propKey === CHILDREN) {\n      // Noop. This is handled by the clear text mechanism.\n    } else if (\n      propKey === SUPPRESS_CONTENT_EDITABLE_WARNING ||\n      propKey === SUPPRESS_HYDRATION_WARNING\n    ) {\n      // Noop\n    } else if (propKey === AUTOFOCUS) {\n      // Noop. It doesn't work on updates anyway.\n    } else if (registrationNameDependencies.hasOwnProperty(propKey)) {\n      // This is a special case. If any listener updates we need to ensure\n      // that the \"current\" fiber pointer gets updated so we need a commit\n      // to update this element.\n      if (!updatePayload) {\n        updatePayload = [];\n      }\n    } else {\n      // For all other deleted properties we add it to the queue. We use\n      // the allowed property list in the commit phase instead.\n      (updatePayload = updatePayload || []).push(propKey, null);\n    }\n  }\n  for (propKey in nextProps) {\n    const nextProp = nextProps[propKey];\n    const lastProp = lastProps != null ? lastProps[propKey] : undefined;\n    if (\n      !nextProps.hasOwnProperty(propKey) ||\n      nextProp === lastProp ||\n      (nextProp == null && lastProp == null)\n    ) {\n      continue;\n    }\n    if (propKey === STYLE) {\n      if (__DEV__) {\n        if (nextProp) {\n          // Freeze the next style object so that we can assume it won't be\n          // mutated. We have already warned for this in the past.\n          Object.freeze(nextProp);\n        }\n      }\n      if (lastProp) {\n        // Unset styles on `lastProp` but not on `nextProp`.\n        for (styleName in lastProp) {\n          if (\n            lastProp.hasOwnProperty(styleName) &&\n            (!nextProp || !nextProp.hasOwnProperty(styleName))\n          ) {\n            if (!styleUpdates) {\n              styleUpdates = {};\n            }\n            styleUpdates[styleName] = '';\n          }\n        }\n        // Update styles that changed since `lastProp`.\n        for (styleName in nextProp) {\n          if (\n            nextProp.hasOwnProperty(styleName) &&\n            lastProp[styleName] !== nextProp[styleName]\n          ) {\n            if (!styleUpdates) {\n              styleUpdates = {};\n            }\n            styleUpdates[styleName] = nextProp[styleName];\n          }\n        }\n      } else {\n        // Relies on `updateStylesByID` not mutating `styleUpdates`.\n        if (!styleUpdates) {\n          if (!updatePayload) {\n            updatePayload = [];\n          }\n          updatePayload.push(propKey, styleUpdates);\n        }\n        styleUpdates = nextProp;\n      }\n    } else if (propKey === DANGEROUSLY_SET_INNER_HTML) {\n      const nextHtml = nextProp ? nextProp[HTML] : undefined;\n      const lastHtml = lastProp ? lastProp[HTML] : undefined;\n      if (nextHtml != null) {\n        if (lastHtml !== nextHtml) {\n          (updatePayload = updatePayload || []).push(propKey, nextHtml);\n        }\n      } else {\n        // TODO: It might be too late to clear this if we have children\n        // inserted already.\n      }\n    } else if (propKey === CHILDREN) {\n      if (typeof nextProp === 'string' || typeof nextProp === 'number') {\n        (updatePayload = updatePayload || []).push(propKey, '' + nextProp);\n      }\n    } else if (\n      propKey === SUPPRESS_CONTENT_EDITABLE_WARNING ||\n      propKey === SUPPRESS_HYDRATION_WARNING\n    ) {\n      // Noop\n    } else if (registrationNameDependencies.hasOwnProperty(propKey)) {\n      if (nextProp != null) {\n        // We eagerly listen to this even though we haven't committed yet.\n        if (__DEV__ && typeof nextProp !== 'function') {\n          warnForInvalidEventListener(propKey, nextProp);\n        }\n        if (propKey === 'onScroll') {\n          listenToNonDelegatedEvent('scroll', domElement);\n        }\n      }\n      if (!updatePayload && lastProp !== nextProp) {\n        // This is a special case. If any listener updates we need to ensure\n        // that the \"current\" props pointer gets updated so we need a commit\n        // to update this element.\n        updatePayload = [];\n      }\n    } else {\n      // For any other property we always add it to the queue and then we\n      // filter it out using the allowed property list during the commit.\n      (updatePayload = updatePayload || []).push(propKey, nextProp);\n    }\n  }\n  if (styleUpdates) {\n    if (__DEV__) {\n      validateShorthandPropertyCollisionInDev(styleUpdates, nextProps[STYLE]);\n    }\n    (updatePayload = updatePayload || []).push(STYLE, styleUpdates);\n  }\n  return updatePayload;\n}\n\n// Apply the diff.\nexport function updateProperties(\n  domElement: Element,\n  updatePayload: Array<any>,\n  tag: string,\n  lastRawProps: Object,\n  nextRawProps: Object,\n): void {\n  // Update checked *before* name.\n  // In the middle of an update, it is possible to have multiple checked.\n  // When a checked radio tries to change name, browser makes another radio's checked false.\n  if (\n    tag === 'input' &&\n    nextRawProps.type === 'radio' &&\n    nextRawProps.name != null\n  ) {\n    ReactDOMInputUpdateChecked(domElement, nextRawProps);\n  }\n\n  const wasCustomComponentTag = isCustomComponent(tag, lastRawProps);\n  const isCustomComponentTag = isCustomComponent(tag, nextRawProps);\n  // Apply the diff.\n  updateDOMProperties(\n    domElement,\n    updatePayload,\n    wasCustomComponentTag,\n    isCustomComponentTag,\n  );\n\n  // TODO: Ensure that an update gets scheduled if any of the special props\n  // changed.\n  switch (tag) {\n    case 'input':\n      // Update the wrapper around inputs *after* updating props. This has to\n      // happen after `updateDOMProperties`. Otherwise HTML5 input validations\n      // raise warnings and prevent the new value from being assigned.\n      ReactDOMInputUpdateWrapper(domElement, nextRawProps);\n      break;\n    case 'textarea':\n      ReactDOMTextareaUpdateWrapper(domElement, nextRawProps);\n      break;\n    case 'select':\n      // <select> value update needs to occur after <option> children\n      // reconciliation\n      ReactDOMSelectPostUpdateWrapper(domElement, nextRawProps);\n      break;\n  }\n}\n\nfunction getPossibleStandardName(propName: string): string | null {\n  if (__DEV__) {\n    const lowerCasedName = propName.toLowerCase();\n    if (!possibleStandardNames.hasOwnProperty(lowerCasedName)) {\n      return null;\n    }\n    return possibleStandardNames[lowerCasedName] || null;\n  }\n  return null;\n}\n\nexport function diffHydratedProperties(\n  domElement: Element,\n  tag: string,\n  rawProps: Object,\n  parentNamespace: string,\n  rootContainerElement: Element | Document,\n): null | Array<mixed> {\n  let isCustomComponentTag;\n  let extraAttributeNames: Set<string>;\n\n  if (__DEV__) {\n    suppressHydrationWarning = rawProps[SUPPRESS_HYDRATION_WARNING] === true;\n    isCustomComponentTag = isCustomComponent(tag, rawProps);\n    validatePropertiesInDevelopment(tag, rawProps);\n  }\n\n  // TODO: Make sure that we check isMounted before firing any of these events.\n  switch (tag) {\n    case 'dialog':\n      listenToNonDelegatedEvent('cancel', domElement);\n      listenToNonDelegatedEvent('close', domElement);\n      break;\n    case 'iframe':\n    case 'object':\n    case 'embed':\n      // We listen to this event in case to ensure emulated bubble\n      // listeners still fire for the load event.\n      listenToNonDelegatedEvent('load', domElement);\n      break;\n    case 'video':\n    case 'audio':\n      // We listen to these events in case to ensure emulated bubble\n      // listeners still fire for all the media events.\n      for (let i = 0; i < mediaEventTypes.length; i++) {\n        listenToNonDelegatedEvent(mediaEventTypes[i], domElement);\n      }\n      break;\n    case 'source':\n      // We listen to this event in case to ensure emulated bubble\n      // listeners still fire for the error event.\n      listenToNonDelegatedEvent('error', domElement);\n      break;\n    case 'img':\n    case 'image':\n    case 'link':\n      // We listen to these events in case to ensure emulated bubble\n      // listeners still fire for error and load events.\n      listenToNonDelegatedEvent('error', domElement);\n      listenToNonDelegatedEvent('load', domElement);\n      break;\n    case 'details':\n      // We listen to this event in case to ensure emulated bubble\n      // listeners still fire for the toggle event.\n      listenToNonDelegatedEvent('toggle', domElement);\n      break;\n    case 'input':\n      ReactDOMInputInitWrapperState(domElement, rawProps);\n      // We listen to this event in case to ensure emulated bubble\n      // listeners still fire for the invalid event.\n      listenToNonDelegatedEvent('invalid', domElement);\n      break;\n    case 'option':\n      ReactDOMOptionValidateProps(domElement, rawProps);\n      break;\n    case 'select':\n      ReactDOMSelectInitWrapperState(domElement, rawProps);\n      // We listen to this event in case to ensure emulated bubble\n      // listeners still fire for the invalid event.\n      listenToNonDelegatedEvent('invalid', domElement);\n      break;\n    case 'textarea':\n      ReactDOMTextareaInitWrapperState(domElement, rawProps);\n      // We listen to this event in case to ensure emulated bubble\n      // listeners still fire for the invalid event.\n      listenToNonDelegatedEvent('invalid', domElement);\n      break;\n  }\n\n  assertValidProps(tag, rawProps);\n\n  if (__DEV__) {\n    extraAttributeNames = new Set();\n    const attributes = domElement.attributes;\n    for (let i = 0; i < attributes.length; i++) {\n      const name = attributes[i].name.toLowerCase();\n      switch (name) {\n        // Controlled attributes are not validated\n        // TODO: Only ignore them on controlled tags.\n        case 'value':\n          break;\n        case 'checked':\n          break;\n        case 'selected':\n          break;\n        default:\n          // Intentionally use the original name.\n          // See discussion in https://github.com/facebook/react/pull/10676.\n          extraAttributeNames.add(attributes[i].name);\n      }\n    }\n  }\n\n  let updatePayload = null;\n  for (const propKey in rawProps) {\n    if (!rawProps.hasOwnProperty(propKey)) {\n      continue;\n    }\n    const nextProp = rawProps[propKey];\n    if (propKey === CHILDREN) {\n      // For text content children we compare against textContent. This\n      // might match additional HTML that is hidden when we read it using\n      // textContent. E.g. \"foo\" will match \"f<span>oo</span>\" but that still\n      // satisfies our requirement. Our requirement is not to produce perfect\n      // HTML and attributes. Ideally we should preserve structure but it's\n      // ok not to if the visible content is still enough to indicate what\n      // even listeners these nodes might be wired up to.\n      // TODO: Warn if there is more than a single textNode as a child.\n      // TODO: Should we use domElement.firstChild.nodeValue to compare?\n      if (typeof nextProp === 'string') {\n        if (domElement.textContent !== nextProp) {\n          if (__DEV__ && !suppressHydrationWarning) {\n            warnForTextDifference(domElement.textContent, nextProp);\n          }\n          updatePayload = [CHILDREN, nextProp];\n        }\n      } else if (typeof nextProp === 'number') {\n        if (domElement.textContent !== '' + nextProp) {\n          if (__DEV__ && !suppressHydrationWarning) {\n            warnForTextDifference(domElement.textContent, nextProp);\n          }\n          updatePayload = [CHILDREN, '' + nextProp];\n        }\n      }\n    } else if (registrationNameDependencies.hasOwnProperty(propKey)) {\n      if (nextProp != null) {\n        if (__DEV__ && typeof nextProp !== 'function') {\n          warnForInvalidEventListener(propKey, nextProp);\n        }\n        if (propKey === 'onScroll') {\n          listenToNonDelegatedEvent('scroll', domElement);\n        }\n      }\n    } else if (\n      __DEV__ &&\n      // Convince Flow we've calculated it (it's DEV-only in this method.)\n      typeof isCustomComponentTag === 'boolean'\n    ) {\n      // Validate that the properties correspond to their expected values.\n      let serverValue;\n      const propertyInfo = getPropertyInfo(propKey);\n      if (suppressHydrationWarning) {\n        // Don't bother comparing. We're ignoring all these warnings.\n      } else if (\n        propKey === SUPPRESS_CONTENT_EDITABLE_WARNING ||\n        propKey === SUPPRESS_HYDRATION_WARNING ||\n        // Controlled attributes are not validated\n        // TODO: Only ignore them on controlled tags.\n        propKey === 'value' ||\n        propKey === 'checked' ||\n        propKey === 'selected'\n      ) {\n        // Noop\n      } else if (propKey === DANGEROUSLY_SET_INNER_HTML) {\n        const serverHTML = domElement.innerHTML;\n        const nextHtml = nextProp ? nextProp[HTML] : undefined;\n        if (nextHtml != null) {\n          const expectedHTML = normalizeHTML(domElement, nextHtml);\n          if (expectedHTML !== serverHTML) {\n            warnForPropDifference(propKey, serverHTML, expectedHTML);\n          }\n        }\n      } else if (propKey === STYLE) {\n        // $FlowFixMe - Should be inferred as not undefined.\n        extraAttributeNames.delete(propKey);\n\n        if (canDiffStyleForHydrationWarning) {\n          const expectedStyle = createDangerousStringForStyles(nextProp);\n          serverValue = domElement.getAttribute('style');\n          if (expectedStyle !== serverValue) {\n            warnForPropDifference(propKey, serverValue, expectedStyle);\n          }\n        }\n      } else if (isCustomComponentTag) {\n        // $FlowFixMe - Should be inferred as not undefined.\n        extraAttributeNames.delete(propKey.toLowerCase());\n        serverValue = getValueForAttribute(domElement, propKey, nextProp);\n\n        if (nextProp !== serverValue) {\n          warnForPropDifference(propKey, serverValue, nextProp);\n        }\n      } else if (\n        !shouldIgnoreAttribute(propKey, propertyInfo, isCustomComponentTag) &&\n        !shouldRemoveAttribute(\n          propKey,\n          nextProp,\n          propertyInfo,\n          isCustomComponentTag,\n        )\n      ) {\n        let isMismatchDueToBadCasing = false;\n        if (propertyInfo !== null) {\n          // $FlowFixMe - Should be inferred as not undefined.\n          extraAttributeNames.delete(propertyInfo.attributeName);\n          serverValue = getValueForProperty(\n            domElement,\n            propKey,\n            nextProp,\n            propertyInfo,\n          );\n        } else {\n          let ownNamespace = parentNamespace;\n          if (ownNamespace === HTML_NAMESPACE) {\n            ownNamespace = getIntrinsicNamespace(tag);\n          }\n          if (ownNamespace === HTML_NAMESPACE) {\n            // $FlowFixMe - Should be inferred as not undefined.\n            extraAttributeNames.delete(propKey.toLowerCase());\n          } else {\n            const standardName = getPossibleStandardName(propKey);\n            if (standardName !== null && standardName !== propKey) {\n              // If an SVG prop is supplied with bad casing, it will\n              // be successfully parsed from HTML, but will produce a mismatch\n              // (and would be incorrectly rendered on the client).\n              // However, we already warn about bad casing elsewhere.\n              // So we'll skip the misleading extra mismatch warning in this case.\n              isMismatchDueToBadCasing = true;\n              // $FlowFixMe - Should be inferred as not undefined.\n              extraAttributeNames.delete(standardName);\n            }\n            // $FlowFixMe - Should be inferred as not undefined.\n            extraAttributeNames.delete(propKey);\n          }\n          serverValue = getValueForAttribute(domElement, propKey, nextProp);\n        }\n\n        if (nextProp !== serverValue && !isMismatchDueToBadCasing) {\n          warnForPropDifference(propKey, serverValue, nextProp);\n        }\n      }\n    }\n  }\n\n  if (__DEV__) {\n    // $FlowFixMe - Should be inferred as not undefined.\n    if (extraAttributeNames.size > 0 && !suppressHydrationWarning) {\n      // $FlowFixMe - Should be inferred as not undefined.\n      warnForExtraAttributes(extraAttributeNames);\n    }\n  }\n\n  switch (tag) {\n    case 'input':\n      // TODO: Make sure we check if this is still unmounted or do any clean\n      // up necessary since we never stop tracking anymore.\n      track((domElement: any));\n      ReactDOMInputPostMountWrapper(domElement, rawProps, true);\n      break;\n    case 'textarea':\n      // TODO: Make sure we check if this is still unmounted or do any clean\n      // up necessary since we never stop tracking anymore.\n      track((domElement: any));\n      ReactDOMTextareaPostMountWrapper(domElement, rawProps);\n      break;\n    case 'select':\n    case 'option':\n      // For input and textarea we current always set the value property at\n      // post mount to force it to diverge from attributes. However, for\n      // option and select we don't quite do the same thing and select\n      // is not resilient to the DOM state changing so we don't do that here.\n      // TODO: Consider not doing this for input and textarea.\n      break;\n    default:\n      if (typeof rawProps.onClick === 'function') {\n        // TODO: This cast may not be sound for SVG, MathML or custom elements.\n        trapClickOnNonInteractiveElement(((domElement: any): HTMLElement));\n      }\n      break;\n  }\n\n  return updatePayload;\n}\n\nexport function diffHydratedText(textNode: Text, text: string): boolean {\n  const isDifferent = textNode.nodeValue !== text;\n  return isDifferent;\n}\n\nexport function warnForUnmatchedText(textNode: Text, text: string) {\n  if (__DEV__) {\n    warnForTextDifference(textNode.nodeValue, text);\n  }\n}\n\nexport function warnForDeletedHydratableElement(\n  parentNode: Element | Document,\n  child: Element,\n) {\n  if (__DEV__) {\n    if (didWarnInvalidHydration) {\n      return;\n    }\n    didWarnInvalidHydration = true;\n    console.error(\n      'Did not expect server HTML to contain a <%s> in <%s>.',\n      child.nodeName.toLowerCase(),\n      parentNode.nodeName.toLowerCase(),\n    );\n  }\n}\n\nexport function warnForDeletedHydratableText(\n  parentNode: Element | Document,\n  child: Text,\n) {\n  if (__DEV__) {\n    if (didWarnInvalidHydration) {\n      return;\n    }\n    didWarnInvalidHydration = true;\n    console.error(\n      'Did not expect server HTML to contain the text node \"%s\" in <%s>.',\n      child.nodeValue,\n      parentNode.nodeName.toLowerCase(),\n    );\n  }\n}\n\nexport function warnForInsertedHydratedElement(\n  parentNode: Element | Document,\n  tag: string,\n  props: Object,\n) {\n  if (__DEV__) {\n    if (didWarnInvalidHydration) {\n      return;\n    }\n    didWarnInvalidHydration = true;\n    console.error(\n      'Expected server HTML to contain a matching <%s> in <%s>.',\n      tag,\n      parentNode.nodeName.toLowerCase(),\n    );\n  }\n}\n\nexport function warnForInsertedHydratedText(\n  parentNode: Element | Document,\n  text: string,\n) {\n  if (__DEV__) {\n    if (text === '') {\n      // We expect to insert empty text nodes since they're not represented in\n      // the HTML.\n      // TODO: Remove this special case if we can just avoid inserting empty\n      // text nodes.\n      return;\n    }\n    if (didWarnInvalidHydration) {\n      return;\n    }\n    didWarnInvalidHydration = true;\n    console.error(\n      'Expected server HTML to contain a matching text node for \"%s\" in <%s>.',\n      text,\n      parentNode.nodeName.toLowerCase(),\n    );\n  }\n}\n\nexport function restoreControlledState(\n  domElement: Element,\n  tag: string,\n  props: Object,\n): void {\n  switch (tag) {\n    case 'input':\n      ReactDOMInputRestoreControlledState(domElement, props);\n      return;\n    case 'textarea':\n      ReactDOMTextareaRestoreControlledState(domElement, props);\n      return;\n    case 'select':\n      ReactDOMSelectRestoreControlledState(domElement, props);\n      return;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}